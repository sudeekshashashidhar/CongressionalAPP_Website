<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NC Careers Hub — Cities</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body class="home-page">
  <header class="home-header">
    <h1>NC Careers Hub — Cities</h1>
    <p>Choose a city to explore generated job titles.</p>
  </header>
  <main>
    <section class="city-controls" aria-label="City filters">
      <form class="city-filter" role="search">
        <div class="filter-field">
          <label class="sr-only" for="city-search">Search cities</label>
          <input type="search" id="city-search" placeholder="Search cities..." autocomplete="off" />
        </div>
        <div class="filter-field">
          <label class="sr-only" for="city-letter">Filter by first letter</label>
          <select id="city-letter">
            <option value="all">All letters</option>
            <option value="A-G">A - G</option>
            <option value="H-N">H - N</option>
            <option value="O-Z">O - Z</option>
          </select>
        </div>
        <button type="reset" class="filter-reset">Clear</button>
      </form>
      <p class="city-hint">Tip: Combine the search box and letter range to narrow the list.</p>
    </section>

    <ul class="city-list">
      <li class="city-item" data-name="Charlotte, NC" data-letter="C"><a href="./charlotte-nc/index.html">Charlotte, NC</a></li>
      <li class="city-item" data-name="Raleigh, NC" data-letter="R"><a href="./raleigh-nc/index.html">Raleigh, NC</a></li>
      <li class="city-item" data-name="Durham, NC" data-letter="D"><a href="./durham-nc/index.html">Durham, NC</a></li>
      <li class="city-item" data-name="Greensboro, NC" data-letter="G"><a href="./greensboro-nc/index.html">Greensboro, NC</a></li>
      <li class="city-item" data-name="Winston-Salem, NC" data-letter="W"><a href="./winston-salem-nc/index.html">Winston-Salem, NC</a></li>
      <li class="city-item" data-name="Fayetteville, NC" data-letter="F"><a href="./fayetteville-nc/index.html">Fayetteville, NC</a></li>
      <li class="city-item" data-name="Cary, NC" data-letter="C"><a href="./cary-nc/index.html">Cary, NC</a></li>
      <li class="city-item" data-name="Wilmington, NC" data-letter="W"><a href="./wilmington-nc/index.html">Wilmington, NC</a></li>
      <li class="city-item" data-name="Asheville, NC" data-letter="A"><a href="./asheville-nc/index.html">Asheville, NC</a></li>
      <li class="city-item" data-name="Chapel Hill, NC" data-letter="C"><a href="./chapel-hill-nc/index.html">Chapel Hill, NC</a></li>
      <li class="city-item" data-name="Greensville, NC" data-letter="G"><a href="./greensville-nc/index.html">Greensville, NC</a></li>
      <li class="city-item" data-name="Gastonia, NC" data-letter="G"><a href="./gastonia-nc/index.html">Gastonia, NC</a></li>
      <li class="city-item" data-name="Huntersville, NC" data-letter="H"><a href="./huntersville-nc/index.html">Huntersville, NC</a></li>
      <li class="city-item" data-name="Kannapolis, NC" data-letter="K"><a href="./kannapolis-nc/index.html">Kannapolis, NC</a></li>
      <li class="city-item" data-name="Mooresville, NC" data-letter="M"><a href="./mooresville-nc/index.html">Mooresville, NC</a></li>
      <li class="city-item" data-name="Burlington, NC" data-letter="B"><a href="./burlington-nc/index.html">Burlington, NC</a></li>
      <li class="city-item" data-name="Apex, NC" data-letter="A"><a href="./apex-nc/index.html">Apex, NC</a></li>
      <li class="city-item" data-name="Jacksonville, NC" data-letter="J"><a href="./jacksonville-nc/index.html">Jacksonville, NC</a></li>
      <li class="city-item" data-name="Wake Forest, NC" data-letter="W"><a href="./wake-forest-nc/index.html">Wake Forest, NC</a></li>
      <li class="city-item" data-name="High Point, NC" data-letter="H"><a href="./high-point-nc/index.html">High Point, NC</a></li>
    </ul>
    <p class="city-empty" role="status">No cities match your filters. Try adjusting the search or letter range.</p>
  </main>
  <script>
  (function () {
    const searchInput = document.querySelector('#city-search');
    const letterSelect = document.querySelector('#city-letter');
    const list = document.querySelector('.city-list');
    const form = document.querySelector('.city-filter');
    const emptyState = document.querySelector('.city-empty');
    if (!searchInput || !letterSelect || !list || !form) return;

    const items = Array.from(list.querySelectorAll('.city-item'));

    function inLetterRange(letterFilter, letter) {
      if (letterFilter === 'all') return true;
      const [startChar, endChar] = letterFilter.split('-');
      const start = startChar.charCodeAt(0);
      const end = endChar.charCodeAt(0);
      const code = letter.charCodeAt(0);
      return code >= start && code <= end;
    }

    function applyFilters() {
      const query = searchInput.value.trim().toLowerCase();
      const letterFilter = letterSelect.value;
      let shown = 0;

      items.forEach((item) => {
        const name = item.dataset.name || '';
        const letter = item.dataset.letter || '';
        const matchesQuery = !query || name.toLowerCase().includes(query);
        const matchesLetter = letter ? inLetterRange(letterFilter, letter) : true;
        const visible = matchesQuery && matchesLetter;
        item.style.display = visible ? '' : 'none';
        if (visible) shown += 1;
      });

      if (emptyState) {
        emptyState.style.display = shown ? 'none' : 'block';
      }
    }

    searchInput.addEventListener('input', applyFilters);
    letterSelect.addEventListener('change', applyFilters);
    form.addEventListener('reset', () => {
      letterSelect.value = 'all';
      window.requestAnimationFrame(applyFilters);
    });

    applyFilters();
  })();
  </script>
</body>
</html>
